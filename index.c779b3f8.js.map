{"mappings":"AAAA,MACMA,EAAU,CACZC,QAAS,CACL,YAAc,0ECDtB,MAAMC,EAAO,CACTC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,WACnCE,YAAaH,SAASC,cAAc,UACpCG,MAAOJ,SAASC,cAAc,cAGlCH,EAAKI,WAAWG,UAAUC,IAAI,aAC9BR,EAAKK,YAAYE,UAAUC,IAAI,aAE/BR,EAAKC,SAASQ,iBAAiB,UAE/B,SAA0BC,GACtBV,EAAKI,WAAWG,UAAUI,OAAO,cDKLC,ECHdZ,EAAKC,SAASY,MDQrBC,MAFK,wDADiBF,IAGXd,GAASiB,MAAKC,IAC5B,IAAIA,EAAIC,GACJ,MAAM,IAAIC,MAAMF,EAAIG,QAExB,OAAOH,EAAII,MAAM,KCVEL,MAAKM,IACxBrB,EAAKI,WAAWG,UAAUC,IAAI,aAkBtC,SAAoBa,GAChB,MAAMC,EAAU,yCACkBD,EAAK,GAAGE,OAAO,GAAGC,qDACfH,EAAK,GAAGI,mEACdJ,EAAK,GAAGE,OAAO,GAAGG,qDAClBL,EAAK,GAAGE,OAAO,GAAGI,4BAEjD3B,EAAKM,MAAMsB,UAAYN,C,CAxBnBO,CAAWR,EAAK,IACjBS,OAAMC,IACL/B,EAAKK,YAAYE,UAAUI,OAAO,YAAY,IDH/C,IAAyBC,C,IATrBE,MAFK,sCAEMhB,GAASiB,MAAKC,IAC5B,IAAIA,EAAIC,GACJ,MAAM,IAAIC,MAAMF,EAAIG,QAExB,OAAOH,EAAII,MAAM,ICaXL,MAAKM,IACf,MAAMC,EAASD,EAAKW,KAAIC,GACb,kBAAkBA,EAAGC,OAAOD,EAAGT,kBACvCW,KAAK,IAERnC,EAAKC,SAAS2B,UAAYN,CAAM,IACjCQ,OAAMC,IACL/B,EAAKK,YAAYE,UAAUI,OAAO,YAAY","sources":["src/js/cat-api.js","src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com'\nconst options = {\n    headers: {\n        'x-api-key' : 'live_aUFqRDdCUhNgAKkwm1toN44d52zqmJ1i8nfxJCvrFxi8kJLGtAgN6nyIP42LEG2F'\n    },\n}\n\nexport function fetchBreeds() {\n    const END_POINT = '/v1/breeds'\n    const url = `${BASE_URL}${END_POINT}`\n\n    return fetch(url, options).then(res => {\n        if(!res.ok ) {\n            throw new Error(res.status)\n        }\n        return res.json()\n    })\n};\n\n\nexport function fetchCatByBreed(breedId) {\n    const END_POINT = '/v1/images/search';\n    const PARAMS = `?breed_ids=${breedId}`;\n    const url = `${BASE_URL}${END_POINT}${PARAMS}`\n\n    return fetch(url, options).then(res => {\n        if(!res.ok ) {\n            throw new Error(res.status)\n        }\n        return res.json()\n    }) \n}\n\n\n","import { fetchBreeds, fetchCatByBreed } from \"./js/cat-api\";\n\nconst refs = {\n    selectEl: document.querySelector('.breed-select'),\n    textLoadEl: document.querySelector('.loader'),\n    textErrorEl: document.querySelector('.error'),\n    divEl: document.querySelector('.cat-info'),\n};\n\nrefs.textLoadEl.classList.add('is-hidden');\nrefs.textErrorEl.classList.add('is-hidden')\n\nrefs.selectEl.addEventListener('change', onSelectElChange);\n\nfunction onSelectElChange(e) {\n    refs.textLoadEl.classList.remove('is-hidden');\n\n    const catId = refs.selectEl.value;\n    \n    fetchCatByBreed(catId).then(data => {\n        refs.textLoadEl.classList.add('is-hidden');\n        renderPage(data)\n    }).catch(error => {\n        refs.textErrorEl.classList.remove('is-hidden');\n    })  \n};\n\n\nfetchBreeds().then(data => {\n    const markup = data.map(el => {\n        return `<option value='${el.id}'>${el.name}</option>`\n    }).join('');\n\n    refs.selectEl.innerHTML = markup;\n}).catch(error => {\n    refs.textErrorEl.classList.remove('is-hidden');\n});\n\nfunction renderPage(data) {\n    const markup =  `\n        <h2 class=\"header-cat-info\">${data[0].breeds[0].name}</h2>\n        <img class=\"img-cat-info\" src=\"${data[0].url}\" alt=\"cat\" width = \"400\">\n        <p class=\"text-cat-info\">${data[0].breeds[0].description}</p>\n        <p class=\"text-cat-info\">${data[0].breeds[0].temperament}</p>\n        `\n    refs.divEl.innerHTML = markup;\n};\n\n\n\n\n\n"],"names":["$c4ebbd28ee7007ee$var$options","headers","$1f0dc3b9307be026$var$refs","selectEl","document","querySelector","textLoadEl","textErrorEl","divEl","classList","add","addEventListener","e","remove","breedId","value","fetch","then","res","ok","Error","status","json","data","markup","breeds","name","url","description","temperament","innerHTML","$1f0dc3b9307be026$var$renderPage","catch","error","map","el","id","join"],"version":3,"file":"index.c779b3f8.js.map"}